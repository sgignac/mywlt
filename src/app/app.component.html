<app-spinner [loading]="loading"></app-spinner>

<mat-toolbar>
  <mat-toolbar-row>
    
    <mat-menu #rootMenu="matMenu">
      <button mat-menu-item (click)="addNewCurrency()"><mat-icon>add_circle_outline</mat-icon>{{"menu.add" | translate}}</button>
      <button mat-menu-item [matMenuTriggerFor]="editSubMenu"><mat-icon>create</mat-icon>{{"menu.edit" | translate}}</button>
      <button mat-menu-item [matMenuTriggerFor]="deleteSubMenu"><mat-icon>remove_circle_outline</mat-icon>{{"menu.delete" | translate}}</button>
      <button mat-menu-item (click)="switchLanguage()"><mat-icon>translate</mat-icon>{{"other.language" | translate}}</button>
    </mat-menu>
    
    <mat-menu #editSubMenu="matMenu">
      <button mat-menu-item *ngFor="let inv of wallet$ | async" (click)="editCurrency(inv)">{{inv.code}}</button>
    </mat-menu>
    <mat-menu #deleteSubMenu="matMenu">
      <button mat-menu-item *ngFor="let inv of wallet$ | async" (click)="deleteCurrency(inv)">{{inv.code}}</button>
    </mat-menu>
    
    <button mat-icon-button [matMenuTriggerFor]="rootMenu">
      <mat-icon>more_vert</mat-icon>
    </button>

    <span>{{"application.title" | translate}}</span>
    <span class="toolbar-spacer"></span>
    <span class="rate">{{"exchange.rate" | translate}}{{(exchangeRate$ | async) | currency:'CAD':'symbol-narrow':'1.4'}}</span>
    
  </mat-toolbar-row>
</mat-toolbar>

<app-crypto *ngFor="let inv of wallet$ | async" [inv]="inv"></app-crypto>

<button mat-fab color="primary" class="fixed-bottom" (click)="updateAllCurrencies()">
  <i class="material-icons">autorenew</i>
</button>